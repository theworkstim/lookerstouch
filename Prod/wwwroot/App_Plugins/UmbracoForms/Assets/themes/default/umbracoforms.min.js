!function(){function e(){var e=document.getElementsByClassName("umbraco-forms-form-config");if(0<e.length){for(var t=[],r=0;r<e.length;r++){var o=e[r],o={formId:o.dataset.id,pageButtonConditions:JSON.parse(o.dataset.serializedPageButtonConditions),fieldSetConditions:JSON.parse(o.dataset.serializedFieldsetConditions),fieldConditions:JSON.parse(o.dataset.serializedFieldConditions),triggerConditionsCheckOn:o.dataset.triggerConditionsCheckOn,recordValues:JSON.parse(o.dataset.serializedFieldsNotDisplayed),formElementHtmlIdPrefix:o.dataset.formElementHtmlIdPrefix};t.push(o)}d(t,!0)}else"undefined"==typeof umbracoFormsCollection?document.addEventListener("umbracoFormLoaded",u):d(umbracoFormsCollection);var n,i=document.getElementById("umbraco-forms-form-submitted");function a(e){for(var t=0,r=0;r<e.length;r++){var o=function(e){var t=e;for(;"BODY"!==t.tagName;){if(t.classList.contains("umbraco-forms-field"))return t;t=t.parentNode}return e}(e[r]).getBoundingClientRect().top;0<o&&(o<t||0===t)&&(t=o)}0<t&&window.scrollTo(0,t)}function l(e){e.scrollIntoView({behavior:"auto",block:"start"})}i&&(i=i.dataset.formClientId,n=i,document.onreadystatechange=function(){var e,t,r,o;"complete"==document.readyState&&(e=document.querySelectorAll(".field-validation-error"),t=document.querySelectorAll(".umbraco-forms-submitmessage"),r=document.querySelectorAll(".umbraco-forms-submitmessage-html"),o=document.getElementById("umbraco_form_"+n),0<e.length?a(e):0<t.length?l(t[0].parentElement):0<r.length?l(r[0]):o&&l(o))})}function d(e,t){if(void 0!==window.aspnetValidation){function r(e,t){if("checkbox"!==t.type.toLowerCase()&&"radio"!==t.type.toLowerCase())return Boolean(e);for(var r=t.form.querySelectorAll("input[name='"+t.name+"']"),o=0;o<r.length;o++)if(!0===r[o].checked)return!0;return!1}function o(){this.form.elements.PreviousClicked.value="clicked"}var n=new aspnetValidation.ValidationService,i=(n.addProvider("requiredcb",r),n.addProvider("required",r),n.addProvider("umbracoforms_regex",function(e,t,r){return!e||!r.pattern||new RegExp(r.pattern).test(e)}),window.addEventListener("load",function(){for(var e in n.providers)n.providers[e]=function(o){return function(e,t,r){return null===t.offsetParent||o(e,t,r)}}(n.providers[e])}),n.bootstrap(),document.querySelectorAll("[data-umb='prev-forms-form']"));0===i.length&&(i=document.getElementsByClassName("prev cancel"));for(var a=0;a<i.length;a++)i[a].form.elements.PreviousClicked.value="",i[a].addEventListener("click",o,!1)}else if("function"==typeof jQuery&&$.validator&&$.validator.unobtrusive){$.validator.setDefaults({ignore:":hidden"}),$.validator.unobtrusive.adapters.addBool("requiredcb","required"),$.validator.addMethod("umbracoforms_regex",function(e,t){var r=$(t).attr("data-regex"),t=$(t).val();return 0===t.length||t.match(r)}),$.validator.unobtrusive.adapters.addBool("regex","umbracoforms_regex");var l=document.querySelectorAll(".umbraco-forms-form input[type=submit]:not(.cancel)");for(let e=0;e<l.length;e++){var d=l[e];d.addEventListener("click",function(e){e.preventDefault();e=$(this).closest("form");c(e[0]),e.validate(),e.valid()&&(e.submit(),this.setAttribute("disabled","disabled"))}.bind(d))}}for(var s=0;s<e.length;s++)u({form:e[s]},t)}function u(e,t){for(var r,o,n,i,a=t?e.form:JSON.parse(decodeURI(e.form)),l=document.querySelectorAll(".umbraco-forms-form"),d=0;d<l.length;d++){var s=l[d];r=s,i=n=o=void 0,"undefined"!=typeof Umbraco&&void 0!==Umbraco.Sys||"tinymce"===document.body.id||((o=document.createElement("div")).className="umbraco-forms missing-library",o.style.color="#fff",o.style.backgroundColor="#9d261d",o.style.padding="15px",o.style.margin="10px 0",n="",!r)||0<r.getElementsByClassName("umbraco-forms missing-library").length||((i=!1)===(i=window.jQuery&&$&&void 0!==$.validator||void 0!==window.aspnetValidation?!0:i)&&(n+="Umbraco Forms requires a validation framework to run, please read documentation for posible options."),""!==n&&(o.innerHTML=n+'<br/> <a href="https://docs.umbraco.com/umbraco-forms/developer/prepping-frontend" target="_blank" style="text-decoration:underline; color:#fff;">See Umbraco Forms Documentation</a>',r.insertBefore(o,r.childNodes[0]))),new f(s.querySelector(".umbraco-forms-page"),a.pageButtonConditions,a.fieldSetConditions,a.fieldConditions,a.triggerConditionsCheckOn&&0<a.triggerConditionsCheckOn.length?a.triggerConditionsCheckOn:"change",a.recordValues,a.formElementHtmlIdPrefix).watch(),function(e){var t;"MutationObserver"in window!=!1&&(void 0!==window.aspnetValidation&&(t=e.getElementsByTagName("form")[0],t.addEventListener("submit",function(){c(t)},!1)),new MutationObserver(function(e){for(var t=0;t<e.length;t++){var r=e[t];if("field-validation-error"===r.target.className){a=i=n=o=void 0;for(var o=r.target,n=o.previousElementSibling;n;){if("input"===n.tagName.toLowerCase()||"textarea"===n.tagName.toLowerCase()||"select"===n.tagName.toLowerCase()){n.focus();break}if(n.classList.contains("radiobuttonlist")||n.classList.contains("checkboxlist")){for(var i=0;i<n.children.length;i++){var a=n.children[i];if("input"===a.tagName.toLowerCase()){a.focus();break}}break}n=n.previousElementSibling}break}}}).observe(e,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1,subtree:!0}))}(s)}}function c(e){for(var t=e.getElementsByClassName("field-validation-error"),r=0;r<t.length;r++)t[r].className="field-validation-valid"}function f(e,t,r,o,n,i,a){var p={};function l(e,t,r){var o=e.querySelectorAll("select");for(let e=0;e<o.length;e++){var n=o[e];t[n.getAttribute("id")]=n.value,r[n.getAttribute("id")]="select"}var i=e.querySelectorAll("textarea");for(let e=0;e<i.length;e++){var a=i[e];t[a.getAttribute("id")]=a.value,r[a.getAttribute("id")]="textarea"}function l(e){return(e=e.getAttribute("id").split("_")).slice(0,e.length-1).join("_")}var d=e.querySelectorAll("input[type=checkbox]");for(let e=0;e<d.length;e++){var s,u=d[e];u.getAttribute("id")!==p.formElementHtmlIdPrefix+u.getAttribute("name")?(t[s=l(u)]=null,r[s]="checkbox"):(t[u.getAttribute("id")]=null,r[u.getAttribute("id")]="checkbox")}var c=e.querySelectorAll("input");for(let e=0;e<c.length;e++){var f,m=c[e];"text"!==m.getAttribute("type")&&"number"!==m.getAttribute("type")&&"email"!==m.getAttribute("type")&&"url"!==m.getAttribute("type")&&"tel"!==m.getAttribute("type")&&"date"!==m.getAttribute("type")&&"datetime-local"!==m.getAttribute("type")&&"hidden"!==m.getAttribute("type")||(t[m.getAttribute("id")]=m.value,r[m.getAttribute("id")]="text"),"radio"===m.getAttribute("type")&&m.matches(":checked")&&(t[f=l(m)]=m.value,r[f]="radio"),"checkbox"===m.getAttribute("type")&&(m.getAttribute("id")!==p.formElementHtmlIdPrefix+m.getAttribute("name")?(f=l(m),m.matches(":checked")&&(null===t[f]?t[f]=m.value:t[f]+=";;"+m.value)):t[m.getAttribute("id")]=m.matches(":checked")?"true":"false")}}return p.form=e,p.pageButtonConditions=t,p.fieldsetConditions=r,p.fieldConditions=o,p.triggerConditionsCheckOn=n,p.values=i,p.formElementHtmlIdPrefix=a,p.dataTypes={},p.operators={Is:function(e,t,r){return(e||"")===t||(null==e?t==e:("checkbox"===r&&("TRUE"===t.toUpperCase()||"ON"===t.toUpperCase()?t="true":"FALSE"!==t.toUpperCase()&&"OFF"!==t.toUpperCase()||(t="false")),0<e.split(";;").filter(function(e){return e===t}).length))},IsNot:function(e,t,r){var o;return null==e?t!=e:(o=e.split(";;").filter(function(e){return e===t}),"checkbox"===r&&("TRUE"===t.toUpperCase()||"ON"===t.toUpperCase()?t="true":"FALSE"!==t.toUpperCase()&&"OFF"!==t.toUpperCase()||(t="false")),(e||"")!==t&&0===o.length)},GreaterThen:function(e,t){return isNaN(e)||isNaN(t)?t<e:parseInt(e)>parseInt(t)},LessThen:function(e,t){return isNaN(e)||isNaN(t)?e<t:parseInt(e)<parseInt(t)},StartsWith:function(e,t){return e&&0===e.indexOf(t)},EndsWith:function(e,t){return e&&e.indexOf(t)===e.length-t.length},Contains:function(e,t){return e&&-1<e.indexOf(t)}},p.watch=function(){var t=p.form.querySelectorAll(".datepickerfield");for(let e=0;e<t.length;e++){var r=t[e];r.addEventListener("blur",function(){var e;""===this.value&&(e=(e=this.getAttribute("id")).substr(0,e.length-2),p.values[e]="",document.getElementById(e).value=""),l(p.form,p.values,p.dataTypes),p.run()}.bind(r))}var o=p.form.querySelectorAll("input, textarea, select");for(let e=0;e<o.length;e++){var n=o[e];n.addEventListener(p.triggerConditionsCheckOn,function(){l(p.form,p.values,p.dataTypes),p.run()}.bind(n))}l(p.form,p.values,p.dataTypes),p.run()},p.run=function(){var e,t,r,o,n,i={};function s(e){var t,r,o=!0;return!!(o=p.fieldConditions[e.field]?u(e.field,p.fieldConditions[e.field]):o)&&(e=p.values[p.formElementHtmlIdPrefix+(o=e).field],t=p.dataTypes[o.field],r=p.operators[o.operator],null!==e)&&r(e,o.value,t)}function a(e,t){var r="Show"===t.actionType,o=i[e],e=void 0===o?(i[e]=r,i[e]=function(e,t){var r,o,n="Any"===t.logicType,i="All"===t.logicType,a={},l=!1,d=!0;if(0===t.rules.length)return!1;for(o=0;o<t.rules.length;o++){if(e===(r=t.rules[o]).field||e===r.fieldsetId)throw new Error("Field or fieldset "+e+" has a condition on itself.");void 0===a[r.fieldsetId]&&(p.fieldsetConditions[r.fieldsetId]?(a[r.fieldsetId]=u(r.fieldsetId,p.fieldsetConditions[r.fieldsetId]),a[r.fieldsetId]||(l=!0)):a[r.fieldsetId]=!0)}if(i&&l)return!1;for(o=0;o<t.rules.length&&(d=!!a[(r=t.rules[o]).fieldsetId]&&s(t.rules[o]),!n||!d)&&(!i||d);o++);return d}(e,t)):o;return!(e^r)}function u(e,t){return!t||a(e,t)}function l(e,t,r){t=u(t,r);e&&(e.style.display=t?"":"none")}for(e in p.pageButtonConditions)Object.prototype.hasOwnProperty.call(p.pageButtonConditions,e)&&(n=document.getElementById(e))&&l(n.querySelector("input[name='__next'], button[name='__next'], input[data-form-navigate='next'], button[data-form-navigate='next']"),e,p.pageButtonConditions[e]);for(r in p.fieldsetConditions)Object.prototype.hasOwnProperty.call(p.fieldsetConditions,r)&&(t=p.formElementHtmlIdPrefix+r,l(document.getElementById(t),r,p.fieldsetConditions[r]));for(o in p.fieldConditions)Object.prototype.hasOwnProperty.call(p.fieldConditions,o)&&(t=p.formElementHtmlIdPrefix+o,document.getElementById(t))&&l(document.getElementById(t).closest(".umbraco-forms-field"),o,p.fieldConditions[o])},p}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}}),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e():document.addEventListener("DOMContentLoaded",e)}();